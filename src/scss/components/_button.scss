/**
 * button
 *
 *
 * @author Bj√∂rn Hase
 *
 */

$crispy__button__padding: pxToEm(5px) pxToEm(10px) !default;

$crispy__button__up-margin: pxToEm(20px) !default;
$crispy__button__up-padding: pxToEm(5px) !default;

$crispy__button__font-sizes: (
    'default': 18px,
    'small': 14px,
    'large': 28px
) !default;

$crispy__button__colors: (
    'default': (
        'color': $crispy__color-text,
        'background-color': $crispy__color-primary
    ),
    'success': (
        'color': $crispy__color-text,
        'background-color': $crispy__color-success
    ),
    'warning': (
        'color': $crispy__color-text,
        'background-color': $crispy__color-warning
    ),
    'danger': (
        'color': $crispy__color-text,
        'background-color': $crispy__color-danger
    )
) !default;

@mixin crispy__button() {
    .button {
        position: relative;
        display: inline-block;

        vertical-align: middle;
        appearance: none;

        padding: $crispy__button__padding;

        &--wide {
            width: 100%;
        }

        // button for scroll up and down
        &--up, &--down {
            position: absolute;
            bottom: 0;
            margin: $crispy__button__up-margin;
            padding: $crispy__button__up-padding;
        }

        &--down {
            bottom: 0;
        }

        &--up {
            bottom: 0;
        }


        &:hover {
            cursor: pointer;
            text-decoration: none;
        }

        &:focus {
            outline: none;
        }

        // font-sizes & colors
        @include font-sizes($crispy__button__font-sizes);
        @include crispy__button__colors($crispy__button__colors);
    }

    /**
     * grouping buttons
     *
     *
     */
    .button-group {
        .button {
            float: left;
        }

        @include crispy__clearfix();
    }
}

@mixin crispy__button__colors($colors) {
    @each $name, $color in $colors {

        // default has no modification
        @if ($name == 'default') {
            @include crispy__button__color($color);
        }
        @else {
            &--#{$name} {
                @include crispy__button__color($color);
            }
        }
    }
}

@mixin crispy__button__color($color) {
    $background-color: false;
    $text-color: false;

    @if (type-of($color) == 'map') {
        @if (has-key($color, 'color')) {
            $text-color: map-get($color, 'color');
        }

        @if (has-key($color, 'background-color')) {
            $background-color: map-get($color, 'background-color');
        }

        color: $text-color;
        background-color: $background-color;

        &:hover {
            background-color: darken($background-color, 10%);
        }
    }
}
